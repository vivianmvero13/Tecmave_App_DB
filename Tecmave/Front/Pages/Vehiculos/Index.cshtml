@page
@model Front.Pages.Vehículos.IndexModel
@{
    Layout = "_Layout";
    ViewData["Title"] = "Vehículos Registrados";
}

<h1>Vehículos Registrados</h1>

<div class="row g-3 align-items-end mt-3">
    <div class="col-12 col-md-4">
        <label for="roleFilter" class="form-label">Filtrar por rol</label>
        <select id="roleFilter" class="form-select">
            <option value="">(Todos)</option>
            <option value="__SIN_ROL__">(Sin rol)</option>
        </select>
    </div>
    <div class="col-12 col-md-8">
        <label for="localSearch" class="form-label">Buscar</label>
        <div class="input-group">
            <input id="localSearch" class="form-control" placeholder="Buscar por username, email, teléfono o rol…" />
            <button id="clearSearch" class="btn btn-outline-secondary" type="button">Limpiar</button>
        </div>
    </div>
</div>

<div class="d-flex justify-content-between align-items-center mt-3">
    <small id="resultsBadge" class="text-muted">Mostrando 0 de 0</small>
    <div class="d-flex gap-2">
        <a id="manageRolesBtn" class="btn btn-royal btn-sm" href="/Roles">Administrar Roles</a>
        <button id="exportBtn" class="btn btn-orange btn-sm" type="button">
            <i class="fa-solid fa-file-excel"></i> Exportar
        </button>
    </div>
</div>

<div class="table-responsive mt-2">
    <table class="table align-middle">
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Teléfono</th>
                <th>Rol</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody id="userTable">
            <tr><td colspan="5">Cargando Vehículos…</td></tr>
        </tbody>
    </table>
</div>

<style>
    .btn-orange {
        background: #9FAA13 !important;
        border: 1px solid #9FAA13 !important;
        color: #fff !important;
    }

        .btn-orange:hover {
            background: #9FAA13 !important;
        }

    .btn-royal {
        background: #C36721 !important;
        border: 1px solid #C36721 !important;
        color: #fff !important;
    }
</style>

<script>
    const API_BASE = '@(Model?.ApiBase ?? "https://localhost:7096")';
    const VEHICULOS_URL = `${API_BASE}/api/Vehículos`;


</script>

